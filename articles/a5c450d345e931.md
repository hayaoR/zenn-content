---
title: "モデル検査入門"
emoji: "😺"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["alloy", "tla"]
published: false
---

## 目的
モデル検査ってなに？をしってもらう

## はじめに

## 設計
委託開発における設計。
要求定義（ユーザインタビュー、現行資料調査など）でどんなシステムを作っていくかを決めていく。
ここが最も重要であることは前提として、良い設計をするための道具の一つとして形式手法に興味を持っている。
なぜならざっくりとした仕様だけでも形式言語でかけたら、誤解も減るし、ツールの力も借りられるから。
モデル検査は軽量形式手法と呼ばれていて、システムの仕様を証明はしない。仕様を満たさない反例を探せる。


## モデル検査
モデル検査は仕様記述言語で仕様を記述して、それが満たしてほしい性質を満たしているかをチェックできるツール


AWSのDynamoDBやS3などの複雑で大規模な分散システムの設計にTLA+というツールが用いられている。
基幹システムや勘定系システムの設計においてモデル検査ツールがどこまで役立つのかは謎。
ただし、特に役立たないとしても、個人的にはエンジニアが仕様記述言語を学ぶことは下記のメリットがあると思う。
- 仕様を明確に表現しようとする習慣がつく
- システムの不変条件や時相特性を考える習慣がつく
- チームで仕様記述言語に親しむ人が増えれば、必要に応じて論理の用語でコミュニケーションができるようになり、明確なコミュニケーションが促進される。

## Alloy
クラス図っぽいものをコードで表現する。集合とその関係。述語論理と集合がベースにある。
制約をfactで表現する。
満たしてほしい制約をassertで記述し、runコマンドで反例を探す。
適切なスコープを設定しても見つからなければ正しそうだと言える。
小スコープ仮説に基づく。
普通の開発者からすると独特な記法が少しある。

Alloy 6で時相論理を記述できるようになり、書き味がだいぶ変わったようです。

### Alloy 6の記述例

## TLA+
手続き的に表現できる。
個人的にはプログラマにもとっつきやすい気がする
AWSで用いられているのはTLA+

### TLA+の記述例

### 論理の基礎
素人もいいとこなので厳密な議論をしません（できません）
興味のある方は本を買うか、専門家のPDFや動画を見ることをおすすめします。

### 命題論理

### 述語論理

### 時相論理

